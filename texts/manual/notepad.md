
ENTITLE='Notepad'
RUTITLE='Блокнот'
TARGET=doc/user/manual/notepad/index.php

luwrain-page-en

# Notepad

luwrain-page-ru

# Редактирование текстовых файлов при~помощи приложения Блокнот

Приложение Блокнот позволяет редактировать файлы, содержащие текст без~использования каких-либо специальных форматов документов.
Обычно подобные файлы имеют расширение *.txt.
К~числу основных возможностей приложения относятся:

* чтение и запись текстовых файлов в~различных кодировках и с~использованием различных способов разбиения строк;
* озвучивание процесса редактирования в~режимах для естественного языка и для~языка программирования;
* получение базовой информации о~файле;
* перевод текста в~речевую форму с~сохранением результата в~виде множества звуковых файлов.

Подобно любому приложению LUWRAIN, Блокнот имеет поддержку пользовательских расширений на~языке JavaScript,
о чём рассказывается ниже.
Также в~Блокноте досступны все~дополнительные команды, дополняющие обработку текста.

Функциональность перевода текста в~речевую форму была добавлена в~Блокнот,
поскольку подобная задача часто связана с~операцией предварительного редактирования текста.

## Операции работы с~файлами и редактирования текста

Приложение Блокнот используется по~умолчанию для~открытия файла,
если в~системе не~зарегистрировано какое-либо специальное приложение,
предназначенное для~работы с~файлами отдельного типа.
Файл открывается с~использованием текущей системной кодировки (в~подавляющем большинстве случаев используется UTF-8)
и с~автоматической обработкой любого стиля разбиения файла на~строки
(текстовый файл как в~стиле Microsoft Windows, так и в~стиле UNIX или в~стиле Macintosh должен открываться корректно вне~зависимости от~платформы,, на~которой LUWRAIN запущен).

После того, как приложение запущено, пользователь имеет возможность открыть новый файл, сохранить имейющийся под~назначенным именем или под~любым новым именем.
За~эти операции отвечают следующие горячие клавиши:

* Shift+F3~--- открыть новый файл;
* F2~--- сохранить файл под~назначенным именем;
* Shift+F2~--- сохранить файл под~другим именем (аналог операции "Сохранить~как" в~Microsoft Word).

Если при~открытии нового файла существуют несохранённые изменения, пользователю будет предложено их сохранить.
Также пользователю будет предложено сохранить изменения при~закрытии приложения, если в~этом случае может произойти потеря изменений.
Если пользователь пытается сохранить файл,
но имя файла не~назначено,
то будет предложено выбрать имя файла для~сохранения.
Эти~операции доступны при~помощи контекстного меню.
Обратите внимание, что горячие клавиши в~контекстном меню указываются только в~том случае,
если для операции нет~общесистемных команд
(по~этой причине клавиша F2 не~указана в~меню для операции "Сохранить").

Изменение кодировки возможно произвести при~помощи горячей клавиши F9.
После сменны кодировки операции открытия файла и сохранения файла будут производиться с~использованием нового значения.
Таким образом, если пользователь после открытия файла обнаружил, что кодировка выбрана ошибочна,
ему необходимо изменить кодировку при~помощи клавиши F9 и повторить операцию открытия
(в~некоторых случаях приложение само предложит перечитать файл после смены кодировки).

Различная информация о~файле доступна в~окне свойств,
открываемом при~помощи комбинации клавиш Shift+Enter.
В~этом окне пользователю будет предложена различная информация о~файле:
его~имя,
текущая кодировка,
количество строк, символов, количество непробельных символов и~т.~д.


### Базовые операции 

### Для всех элементов редактирования многострочного текста

* Alt+Home --- удалить фрагмент строки от начала и до текущего положения курсора
* Alt+End --- удалить фрагмент строки от текущего положения курсора и до конца
* Shift+Home --- установить курсор на первый непробельный символ строки
* Shift+End --- установить курсор на последней непробельный символ строки
* Ctrl+Alt+End --- разбить длинную строку по пробелам 


### Операции приложения Блокнот

## Режимы работы

Три режима

1. Нейтральный режим.
1. Режим текста на~естественном языке.
1. Режим текста на~языке программирования.



## Сохранение текста в звуковые файлы

### Поддержка Яндекс.SpeechKit

* [https://cloud.yandex.ru/docs/speechkit/tts/request](https://cloud.yandex.ru/docs/speechkit/tts/request)

Для~пользователей GNU/Linux существует возможность преобразовать текст в~набор звуковых файлов с~использованием  [Яндекс.SpeechKit](https://cloud.yandex.ru/services/speechkit).
Это~позволяет получить результат очень высокого качества, но использование сервиса является платной услугой компании Яндекс, требующей прохождения процедуры регистрации в~качестве пользователя  [Яндекс.Облака](https://cloud.yandex.ru).
Мы рассматриваем эту возможность как востребованную только опытными пользователями,
поэтому поддерживаем её~работу на~уровне пользовательских скриптов JavaScript,
которые в~настоящий момент используют утилиты GNU/Linux для~декодирования аудиопотока в~формате [Opus](https://ru.wikipedia.org/wiki/Opus_%28%D0%BA%D0%BE%D0%B4%D0%B5%D0%BA%29).

Для~синтезирования говорящих книг при~помощи Яндекс.SpeechKit необходимо получить так~называемый IAM-токен и индентификатор облачного каталога.
Если эти~значения имеются, то необходимо отредактировать файл yandex.js в~каталоге со~скриптами   JavaScript используемого дистрибутива LUWRAIN (обычно расположен как data/js/ или app/data/js/).
В~указанном файле необходимо раскомментировать тело соответствующего обработчика события _luwrain.notepad.narrating.tts_,
помеченного строкой с~информацией, что функция используется для~доступа к~Яндекс.SpeechKit.
В~начале тела обработчика необходимо записать IAM-токен в~заготовленную переменную _IAM_TOKEN_,
а идентификатор каталога в~переменную _FOLDER_ID_.
После перезапуска LUWRAIN попытка создания серии звуковых файлов должна задействовать функции сервиса Яндекс.SpeechKit.

## Горячие клавиши

* _Shift+F3_~--- открыть файл
* _F2_~--- сохранить файл
* _Shift+F2_~--- сохранить файл как
* _F9_~--- сменить кодировку
* _F10_~--- начитать текст в~серию аудиофайлов
* _Alt+Home_~--- установить курсор на~первом непробельным символом на~текущей строке
* _Alt+End_~--- установить курсор за последним непробельным символом на~текущей строке



## Расширение возможностей при помощи скриптов

luwrain.notepad.actions
luwrain.notepad.action
luwrain.notepad.properties.basic
luwrain.notepad.properties


