

# Реализация функций редактирования текста

Редактирование текста~--- одна из самых востребованных операций   при работе на ПК,
и это верно не только для случая невизуального  использования ИТ.
При этом во всех ситуациях, когда редактирование текста производится в~невизуальном режиме,
появляются дополнительные требования к~реализации элементов управления, отвечающих за~эту операцию.
На~этой странице  мы рассмотрим основные детали и правила внутренней реализации той части LUWRAIN, которая отвечает за~редактирование многострочного текста
(LUWRAIN различает случае, когда редактируется однострочный и многострочный текст).

Невизуальное редактирование текста~--- это процесс, состоящий из~последовательности элементарных и комплексных операций,
приводящих к~согласованному изменению состояния двух объектов: линейного массива строк и  курсора, положение которого задаётся парой координат на плоскости.
Реализация соответствующих элементов управления  должна быть достаточно гибкой, чтобы отвечать следующим требованиям:

1. Корректировка каждого действия пользователя должна быть комплексной,
то есть  должна существовать возможность построить  целостную реакцию, состоящую из некоторого множества частных корректировок,
часть из которых активизируется для всех элементов управления в системе,
другая часть только для элементов управления, содержащих некоторый конкретный тип текста (естественный язык, язык программирования и т. д.),
третья часть активизируется только для конкретного приложения и т. д.
1. Добавления новых корректировок должно осуществляться как на низком уровне с использованием Java, являющегося основным языком реализации LUWRAIN,
так и на более высоком уровне с использованием пользовательских скриптов (в случае LUWRAIN на языке JavaScript).
1.  Звуковое анонсирование операции  с использованием речевого вывода и коротких звуковых сигналов должно быть максимально согласовано с характером  произошедших изменений.
1. Любые задержки реакции на действие пользователя должны быть предельно минимизированы.

Существует несколько различных стилей операций редактирования текста.
Среди них можно выделить стиль GNU~Emacs, стиль Microsoft Word и множество других,
поэтому LUWRAIN не стремиться следовать конкретному из них (хlдаже при том, что GNU~Emacs оказал максимальное влияние на традиции LUWRAIN),
а предлагает максимальные возможности по реализации того стиля редактирования текста, который будет привычен конкретному пользователю.

