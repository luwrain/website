

текущий набор скриптов для сборки проекта, распаковывать в C:\luwrain.packager\

в архиве в datafiles уже лежит ваша версия luwrain и новая версия sapiimpl
(плюс 64-битная rhvoice, как минимум оно работает на win7)

если все есть в наличии в http://download.luwrain.org/nightly/latest/ (сейчас
это не так) то достаточно запустить:
> go.packager.bat - загрузит последнюю версию проекта и соберет
Luwrain-1.0.x32.exe
а для получения x64 версии:
> go.packager.x64.bat - заново загрузит и соберет Luwrain-1.0.x64.exe
!!! эти команды перед загрузкой очистят все изменения в каталоге C:\
luwrain.packager\datafiles\ поэтому использовать ее только если в latest лежит
все необходимое и редактирование содержимого не требуется

если нет необходимости заново загружать файлы сборки latest (например были
произведены более новые локальные изменения), т.е. в каталоге C:\
luwrain.packager\datafiles\luwrain-windows-nightly лежит распакованный каталог
luwrain (содержимое app в терминологии пакаджера) то можно использовать
> go.packager.skipunzip.bat для 32-битной версии
> go.packager.skipunzip.x64.bat - и соответсвенно для 64-битной,
не будет загружать и распаковывать файлы проекта, и соберет Luwrain-1.0.x32.exe
или соовтетственно Luwrain-1.0.x64.exe

для работы скрипта необходимо скачать и установить oracle jdk (без jre)
необходимых версий и битности, если в системе будет по одной версии 32 и 64
бит, они будут найдены и использованы автоматически, но если запускать скрипты
под администраторским доступом, то они автоматически найдут и настроят
символические ссылки на эти java (запускать однократно), иначе это можно
сделать вручную, создав их C:\luwrain.packager\jdk.x32 и C:\luwrain.packager\
jdk.x64 соответственно на каталог, куда установлена java, например C:\Program
Files\Java\jdk1.8.0_202

-----------------

у меня пока нет возможности протестировать на чистых установках windows 10 без
окружения разработчика (а судя по сегодняшним экспериментам это критично)
вот собрал с последней java и последней:
http://rpserver.dlinkddns.com/Luwrain-1.0.x32.java202.exe
http://rpserver.dlinkddns.com/Luwrain-1.0.x64.java202.exe

завтра дополнительно настрою себе чистое окружение win10 и буду там тестировать
заодно попробую собрать rhvoice с mingw или тем же vc2017 поправлю скрипты
сборки rhvoice я почти уверен что это решит все проблемы окончательно


каталоги 'apache-ant-1.9.5', 'Inno Setup 5' и mingw содержат portable
установку используемых утилит (unzip wget rm mv с ними проще чем со
штатными от windows), чтобы не требовать их ручную настройку на
целевой машине (этот каталог можно скачать на машину с чистой
установкой винды и оно будет работать, можно так же туда java
вкорячить но смысла нет

фикс ставится немного коряво, так как код скрипта генерируется
автоматически, я сначала делаю установку того что сгенерировал
javafxpackager, затем копирую файлы, удаляю установку, копирую
исправленный конфиг Luwrain.cfg чтобы шел запуск с использованием
нескольких jar, и подставляю исправленный скрипт innosetup в том же
каталоге, где вставлен метод, возвращающий короткое наименование
каталога установки (он используется для генерации ярлыка запуска)

'WiX Toolset v3.10' это я тогда экспериментировать хотел, забыл
удалить, это не нужно



перечитал свое предыдущее письмо, забыл сказать, фикс с путями
находится в каталоге iss-fix (эти два скрипта inno setup каждый для
своей битности Luwrain.x32.iss ...) и там же измененный конфиг
fxpackajer Luwrain.cfg так как оригинальный с ошибкой создается
